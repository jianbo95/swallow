!function(){var e={};e.openTag="{{",e.closeTag="}}",e.compress=!0;var r={};r.foreach=function(e,r){if(void 0!=e)for(var n=0;n<e.length;n++)r(e[n])},r.error=function(e){"object"!=typeof console&&(console={log:function(){}}),console.log("Error: "+e)},r.compress=function(e,r){if(!r)return e;for(var n=e,o="[s ]*\\r?\\n",t=["[\t ]*{{each [^\r\n]*}}"+o,"[\t ]*{{/each}}"+o,"[\t ]*{{if [^\r\n]*}"+o,"[\t ]*{{else if [^\n]*}"+o,"[\t ]*{{/if}}"+o,"[\t ]*{{else}}"+o,"[\t ]*{{set [^\r\n]*}}"+o],a=0;a<t.length;a++){var i=t[a],s="gm",c=new RegExp(i,s),l=n.match(c);if(void 0!=l)for(var u=0;u<l.length;u++){var f=l[u],p=f.replace(/\r?\n$/,""),v=p.replace(/^[\t ]*/,"");n=n.replace(f,v)}}return n},r.Map={model:"$model",loopTimes:0,loop:function(){this.loopTimes++},loopClose:function(){this.loopTimes--},toMap:function(e){if(0==this.loopTimes)return this.model+"."+e;var r=/^[a-zA-Z]*$/;return r.test(e)?this.model+"."+e:e}},r.parser=function(e){var n=r.Map,o=e.split(" "),t=o.shift(),a=o.join(" ");switch(t){case"if":e="if("+n.toMap(a)+"){";break;case"else":if("if"==o.shift()){var i=o.join(" ");i=n.toMap(i),e="}else if("+i+"){"}else e="}else{";break;case"/if":e="}";break;case"each":var s=o[0]||"$data",c=o[1]||"as",l=o[2]||"$value",u=o[3]||"$index";"as"!=c&&r.error("{{"+e+"}} is invalid!"),s=n.toMap(s),e="$each("+s+",function("+l+","+u+"){\n",e+="var $value = "+l+";\n",e+="var $index = "+u+";",n.loop();break;case"/each":"/each"!=e&&r.error("{{"+e+"}} is invalid!"),n.loopClose(),e="});";break;case"set":e=n.toMap(a),0!=n.loopTimes&&(e="$value."+e);break;default:var f=n.toMap(e);e="="+f}return e};var n=r.foreach,o=function(){var o={},t=function(e){var n=function(e){return e=r.parser(e),0==e.indexOf("=")&&(e="$out+"+e+";"),e+"\n"},o=function(e){var r=function(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"};return e="$out+="+r(e)+";\n"};return"html"==e.type?o(e.code):n(e.code)},a=function(r){var o=[],t=function(e,r){this.code=e,this.type=r},a=function(e){return new t(e,"html")},i=function(e){return new t(e,"logic")};return n(r.split(e.openTag),function(r){var n=r.split(e.closeTag);1==n.length?o.push(a(n[0])):(o.push(i(n[0])),n[1]&&o.push(a(n[1])))}),o},i=function(e,r){var o=function(){for(var r="",n=0;n<e.length;n++){var o=e[n];r+=t(o)}return r},a="'use strict';var $out = '';",i="return String($out)",s=a+o()+i,c=new Function("$model","$each",s),l=String(c(r,n));return l};return o.render=function(n,o){var t=r.compress(n,e.compress),s=a(t),c=i(s,o);return c},o}();"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?exports.Swallow=o:"function"==typeof define&&define.amd?define(["exports"],function(){return o}):window.Swallow=o}();