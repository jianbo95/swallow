(function(){var a={};a.openTag="{{";a.closeTag="}}";a.compress=true;var d={};d.foreach=function(f,g){if(f!=undefined){for(var e=0;e<f.length;e++){g(f[e])}}};d.error=function(e){console.log("Error: "+e)};d.compress=function(f,e){if(!e){return f}var k=f;var q="[s ]*\\r?\\n";var s=["[\t ]*{{each [^\r\n]*}}"+q,"[\t ]*{{/each}}"+q,"[\t ]*{{if [^\r\n]*}"+q,"[\t ]*{{else if [^\n]*}"+q,"[\t ]*{{/if}}"+q,"[\t ]*{{else}}"+q,"[\t ]*{{set [^\r\n]*}}"+q];for(var n=0;n<s.length;n++){var g=s[n];var p="gm";var l=new RegExp(g,p);var h=k.match(l);if(h!=undefined){for(var m=0;m<h.length;m++){var o=(h[m]);var t=o.replace(/\r?\n$/,"");var r=t.replace(/^[\t ]*/,"");k=k.replace(o,r)}}}return k};d.Map={model:"$model",loopTimes:0,loop:function(){this.loopTimes++},loopClose:function(){this.loopTimes--},toMap:function(e){if(this.loopTimes==0){return this.model+"."+e}else{var f=/^[a-zA-Z]*$/;if(f.test(e)){return this.model+"."+e}return e}}};d.parser=function(e){var f=d.Map;var m=e.split(" ");var o=m.shift();var l=m.join(" ");switch(o){case"if":var h=f.toMap(l);e="if("+h+"){";break;case"else":if(m.shift()==="if"){var h=m.join(" ");h=f.toMap(h);e="}else if("+h+"){"}else{e="}else{"}break;case"/if":e="}";break;case"each":var j=m[0]||"$data";var i=m[1]||"as";var n=m[2]||"$value";var k=m[3]||"$index";if(i!=="as"){d.error("{{"+e+"}} is invalid!")}j=f.toMap(j);e="$each("+j+",function("+n+","+k+"){\n";e+="var $value = "+n+";\n";e+="var $index = "+k+";";f.loop();break;case"/each":if(e!="/each"){d.error("{{"+e+"}} is invalid!")}f.loopClose();e="});";break;case"set":e=f.toMap(l);if(f.loopTimes!=0){e="$value."+e}break;default:var g=f.toMap(e);e="="+g;break}return e};var b=d.foreach;var c=function(){self={};var g=function(j){var h=function(k){k=d.parser(k);if(k.indexOf("=")===0){k="$out+"+k+";"}return k+"\n"};var i=function(k){var l=function(m){return"'"+m.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"};k="$out+="+l(k)+";\n";return k};if(j.type=="html"){return i(j.code)}else{return h(j.code)}};var f=function(k){var i=new Array();var h=new Array();var j=function(o,n){this.code=o;this.type=n};var m=function(n){return new j(n,"html")};var l=function(n){return new j(n,"logic")};b(k.split(a.openTag),function(o){var n=o.split(a.closeTag);if(n.length===1){h.push(m(n[0]))}else{h.push(l(n[0]));if(n[1]){h.push(m(n[1]))}}});return h};var e=function(k,l){var j=function(){var p="";for(var r=0;r<k.length;r++){var q=k[r];p+=g(q)}return p};var o="'use strict';var $out = '';";var i="return String($out)";var m=o+j()+i;var n=new Function("$model","$each",m);var h=String(n(l,b));return h};self.render=function(l,j){var k=d.compress(l,a.compress);var i=f(k);var h=e(i,j);return h};return self}();if(typeof exports==="object"&&exports&&typeof exports.nodeName!=="string"){exports.Swallow=c}else{if(typeof define==="function"&&define.amd){define(["exports"],function(){return c})}else{window.Swallow=c}}}());